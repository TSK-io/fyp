% 需求分析报告
% 杨坤
% 2026年1月18日

# 需求分析报告

# 一、 选题背景

## （一） 藏红花种植产业现状与面临的挑战

藏红花（Crocus sativus L.）被誉为“红色金子”，具有极高的药用价值和经济价值，是我国重点发展的名贵中药材之一。然而，藏红花对生长环境的要求极为苛刻，其全生长周期涵盖了球茎休眠期、花芽分化期、开花期和营养生长期等多个阶段，每个阶段对温度、湿度、光照强度及土壤水分都有着截然不同的精准需求。

传统的藏红花种植模式主要依赖人工经验进行管理。种植户需要频繁往返大棚或种植室内查看温度计和湿度计，并手动操作灌溉或补光设备。这种粗放式的管理方式存在显著弊端：一是人工监测存在滞后性和误差，难以捕捉环境参数的微小波动；二是缺乏即时响应机制，一旦环境突变（如温度骤降或土壤过干）未能及时发现，极易导致花期缩短、产量下降甚至球茎腐烂；三是无法实现规模化种植，高昂的人力成本限制了产业的进一步发展。因此，如何利用现代信息技术实现藏红花生长环境的精准监测与自动化控制，成为提升藏红花品质与产量的关键问题。

## （二） 物联网技术在精细化农业中的应用需求

物联网（IoT）技术的引入为解决上述农业痛点提供了可行方案。通过部署各类传感器（如本项目采用的DHT11温湿度传感器、BH1750光照传感器、土壤湿度检测模块等），可以实现对种植环境数据的7x24小时全天候采集。

在藏红花培育系统中，物联网技术构建了物理世界与数字世界的桥梁。底层硬件（如STM32F411微控制器）作为感知执行层，能够实时读取传感器数据，并根据指令驱动水泵、LED补光灯带等执行器。这种“感知-传输-执行”的闭环体系，使得种植管理从“凭经验”转向“看数据”，确保了藏红花始终处于最适宜的生长环境中，从而大幅降低种植门槛和风险。

## （三） 引入边缘计算技术的必要性与研究意义

虽然传统的物联网架构通常将所有数据上传至云端处理，但在藏红花智能培育场景中，单纯依赖云端存在局限性。本项目引入**边缘计算（Edge Computing）**架构，以树莓派4B作为边缘服务器（Edge Server），主要基于以下三点考量：

### 1、 实时性与可靠性要求
农业自动化控制对网络延迟和稳定性敏感。如果在断网情况下，自动灌溉策略失效，可能对作物造成不可逆伤害。通过在边缘侧（树莓派）部署Flask应用和SQLite数据库，系统能够在本地独立运行自动灌溉算法（如检测到土壤湿度低于阈值即刻开启水泵），无需等待云端指令，确保了系统的鲁棒性。

### 2、 视觉数据的高效处理
本项目集成了摄像头进行AI视觉分析（如识别花色判断生长阶段：花蕾期、盛开期等）。图像视频数据量大，直接上传云端会消耗大量带宽且延迟高。利用边缘设备的算力在本地运行OpenCV算法进行预处理和分析，仅上传分析结果（如生长状态、颜色置信度），大大提升了系统效率。

### 3、 数据隐私与安全性
边缘计算将核心业务数据保留在本地局域网内，减少了数据在公共网络传输中的泄露风险，符合智慧农业对数据安全性的要求。

综上所述，设计并实现一套基于边缘计算的藏红花全生长周期智能培育系统，不仅能够解决传统种植中环境控制难、人力成本高的问题，更能通过边缘智能技术提升系统的响应速度与智能化水平，具有重要的应用价值和现实意义。

# 二、 业务需求

本系统旨在为藏红花种植户提供一套低成本、高可靠性的智能培育解决方案。根据客户（种植户及农业管理人员）的实际作业流程，系统需满足以下三大核心业务需求：

## （一） 藏红花生长环境的全周期监测业务

藏红花对生长环境极其敏感，不同生长阶段（如花芽分化期需24-27℃，开花期需15-18℃）需要精准的环境参数支持。因此，核心业务首要解决的是“数据不可见”的问题。

### 1、 多维环境参数采集
系统必须能够实时采集影响藏红花生长的关键指标，包括空气温度、空气湿度、光照强度（Lux）以及土壤水分含量。这些数据需通过部署在底层的硬件节点（STM32微控制器）进行秒级读取，并确保传感器在极端高湿环境下的读数稳定性。

### 2、 数据汇聚与实时展示
采集到的原始数据不能仅停留在传感器端，需通过串行通信实时传输至边缘服务器（树莓派）。客户要求在任何连入局域网的终端设备（如手机或PC浏览器）上，通过Web界面直观地查看到当前的最新环境数值，以便快速判断环境是否适宜。

### 3、 历史数据追溯
为了分析生长周期规律，系统需要具备数据持久化能力。业务要求系统能够自动记录长期的环境变化趋势，并提供可视化的历史数据图表（如温湿度曲线图），支持按时间段（如最近24小时、最近一周）查询，帮助用户复盘种植经验。

## （二） 基于环境数据的远程与自动化管理业务

传统种植依赖人工巡检和手动操作，效率低下且容易发生疏漏。本系统需通过数字化手段解决“执行不及时”和“管理繁琐”的问题。

### 1、 设备远程控制
客户需要解除物理空间的限制，通过Web管理平台即可远程开关种植现场的执行设备。具体业务包括：远程启动/关闭水泵进行灌溉、开启/熄灭LED补光灯带以调节光照、以及控制状态指示灯。系统需确保控制指令下发后的低延迟与执行状态反馈。

### 2、 智能自动化灌溉
针对藏红花对水分敏感的特性，业务要求系统具备“无人值守”的自动化管理能力。用户应能在后台配置灌溉策略（如设置土壤湿度阈值、单次浇水时长、最小冷却间隔）。当系统监测到土壤湿度低于设定下限（如30%）且满足时间间隔要求时，应自动触发水泵运行，无需人工干预，从而避免因人为疏忽导致的干旱缺水。

## （三） 智能化辅助种植业务

为了进一步降低种植门槛，提升用户体验，系统需引入智能化技术辅助日常管理。

### 1、 AI视觉生长监测
客户希望通过摄像头定期拍摄作物照片，并利用图像识别技术自动分析藏红花的生长状态。业务要求系统能识别花朵颜色（如红色、粉色、绿色），并据此判断当前处于花蕾期、盛开期还是凋谢期，为采摘或养护提供决策依据。

### 2、 非接触式交互控制
考虑到种植现场用户可能佩戴手套或手部沾染泥土，不便触摸屏幕，业务需求增加手势识别功能。用户在设备端通过简单的手势（如挥手、上下移动）即可切换屏幕显示页面或控制设备开关，提供更加便捷、卫生的现场交互方式。

**图2-1 藏红花智能培育系统业务流程图**
![藏红花智能培育系统业务流程图](数据业务流程图.png)

# 三、 用户需求

为确保藏红花智能培育系统的安全性与易用性，系统采用基于角色的访问控制（RBAC）模型。根据使用对象的职责不同，将用户划分为“普通用户”和“系统管理员”两类角色，不同角色拥有不同的操作权限和任务视图。

## （一） 用户角色与权限体系

系统通过身份认证机制区分用户角色，并结合令牌（Token）技术保障操作安全。

### 1、 普通用户（Observer）
主要面向一线的种植与巡检人员。其核心任务是监控生长环境，确保无需登录即可快速查看实时状态，或通过基础账号登录查看历史数据，但不具备修改系统核心参数（如自动化策略）的权限。

### 2、 系统管理员（Administrator）
面向农业技术专家或设备维护人员。该角色拥有系统的最高权限，除了具备普通用户的所有功能外，还负责系统的高级配置、自动化策略制定以及用户管理。

### 3、 权限验证机制
系统设计了双重验证机制。一是基于账号密码登录生成的 Auth Token（身份令牌），用于维持会话状态；二是特权操作专用的 Admin Token（管理令牌），用于在紧急情况下或API直接调用时的快速鉴权。

## （二） 普通用户（种植户）用例分析

普通用户的使用场景集中在数据的获取与基础状态的确认，主要任务如下：

### 1、 实时环境监控
* **（1）任务描述**：用户到达种植现场或通过远程终端，需即时获取当前的空气温湿度、光照强度及土壤湿度。
* **（2）用例细节**：用户访问系统首页（index.html），系统自动从边缘服务器获取最新传感器数据并刷新显示。同时，用户可通过观察界面上的“手势状态”确认非接触交互模块是否正常工作。若数据获取超时（如超过5秒），界面应给予“设备离线”的提示。

### 2、 历史数据查询与趋势分析
* **（1）任务描述**：用户需要查看过去一段时间的环境变化，以判断是否符合藏红花当前生长阶段的需求。
* **（2）用例细节**：用户进入“历史数据”页面（history.html），选择起始时间和结束时间，系统生成温湿度及土壤光照的双轴折线图。用户还可点击“导出CSV”按钮，将数据下载到本地进行归档。

### 3、 视觉生长状态确认
* **（1）任务描述**：用户需远程查看作物生长画面。
* **（2）用例细节**：通过“AI视觉分析”功能，查看最近一次拍摄的作物照片及系统自动识别的生长阶段（如花蕾期、盛开期），确认作物健康状况。

## （三） 系统管理员用例分析

管理员关注系统的控制逻辑与运行稳定性，涉及核心业务配置，主要任务如下：

### 1、 系统登录与鉴权
* **（1）任务描述**：管理员需进入后台管理界面进行敏感操作。
* **（2）用例细节**：通过登录页面（login.html）输入用户名和密码。系统后端（auth/login 接口）验证哈希密码，验证通过后返回包含 admin 角色的加密 Token，前端将其存储并用于后续请求的请求头（Authorization Header）中。

### 2、 自动化灌溉策略配置
* **（1）任务描述**：根据藏红花不同生长周期的需水特性，调整自动灌溉的触发条件。
* **（2）用例细节**：在后台管理页（admin.html）的“自动灌溉策略”面板中，管理员可设置“土壤湿度阈值”（如30%）、“单次浇水时长”（如10秒）和“最小冷却间隔”。提交修改时，系统会校验管理员权限（检查 Token 或 X-Admin-Token），确保只有授权人员才能修改核心算法参数。

### 3、 操作日志审计
* **（1）任务描述**：追溯设备的操作记录，排查异常灌溉或误操作行为。
* **（2）用例细节**：管理员查看“最近控制日志”列表，系统展示所有设备控制指令的来源、执行时间、执行器对象（如水泵、灯带）及执行结果（成功/失败），确保所有自动化行为与人工操作均有据可查。

**图3-1 用户/管理员用例图**
![用户与管理员用例图](UML用例图.png)

# 四、 功能需求

本系统软件功能架构分为端侧（STM32固件）与边缘侧（树莓派Web服务）两大部分，需实现从底层数据感知到上层AI决策的完整闭环。

## （一） 端侧数据采集与处理功能

端侧软件运行于STM32F411微控制器上，基于MicroPython环境开发，主要负责硬件驱动与底层交互。

### 1、 多传感器数据采集
* **（1）温湿度采集**：系统需通过 `DHT11Sensor` 类驱动温湿度传感器。驱动程序应具备智能降级机制，优先尝试硬件级 `machine.dht_readinto` 读取，若失败则自动切换至软件模拟时序读取，确保数据获取的高可用性。
* **（2）光照强度采集**：系统需通过 I2C 总线驱动 BH1750 传感器，实时计算环境光照度（Lux），数据精度需保留至小数点后一位。需处理I2C通信超时异常，防止因传感器松动导致主程序阻塞。
* **（3）土壤湿度采集**：利用 ADC（模数转换）模块读取电容式土壤湿度传感器的模拟电压值，并将其映射为 0-100% 的相对湿度百分比，用于反映作物根系水分状况。
* **（4）数据打包与上传**：系统需将采集到的多维数据封装为 JSON 格式（包含 temp, humi, lux, soil, gesture, cycle 字段），并通过 USB 虚拟串口（VCP）以 1Hz 的频率向边缘服务器发送。

### 2、 非接触式手势识别控制交互
* **（1）手势驱动**：基于 PAJ7620 驱动库，通过 I2C 读取寄存器数据（Bank0/Bank1），识别用户的动态手势。
* **（2）交互逻辑**：系统需支持至少 6 种核心手势指令：
    * **左右挥动（Left/Right）**：在 OLED 屏幕的不同功能页面（主页、控制页、信息页）之间进行切换。
    * **上下挥动（Up/Down）**：在控制页面中，用于触发当前选中设备（如水泵、灯带）的开关状态翻转。
    * **前后挥动（Forward/Backward）**：在控制页面中，用于切换当前选中的设备焦点（如从水泵切换至指示灯）。

### 3、 本地OLED屏幕状态显示与页面切换
* **（1）显示驱动**：利用 SSD1306 驱动控制 128x64 分辨率的 OLED 屏幕，实现图形与字符的实时渲染。
* **（2）多页视图设计**：
    * **主监控页（MAIN）**：实时显示温度、湿度、光照、土壤湿度及当前识别到的手势名称。
    * **设备控制页（CTRL）**：显示水泵（Pump）、灯带（Strip）、状态灯（LED）的当前开关状态，并指示当前光标选中的设备。
    * **系统信息页（INFO）**：显示传感器驱动模式（硬件/软件）、系统循环计数及 MicroPython 固件版本信息。

## （二） 边缘服务器（Edge Server）功能

边缘服务器软件运行于树莓派 4B 上，基于 Python Flask 框架，负责业务逻辑处理与人机交互接口。

### 1、 基于Flask的Web服务与RESTful API接口
* **（1）Web界面服务**：系统需提供响应式的 HTML 页面，包括实时监控看板（index.html）、历史数据图表（history.html）和后台管理界面（admin.html）。
* **（2）API 接口设计**：需实现符合 RESTful 规范的 API 端点：
    * `GET /api/v1/sensors/latest`：前端轮询获取最新的传感器数值及手势状态。
    * `POST /api/v1/control`：接收前端控制指令并转发至串口。
    * `POST /api/v1/policy/irrigation`：用于管理员配置自动化策略。
    * `POST /api/v1/auth/login`：处理用户登录请求并签发 Token。

### 2、 数据持久化存储与管理
* **（1）数据库设计**：采用 SQLite 数据库。为保证数据完整性，数据库表结构设计需符合第三范式。
* **（2）核心数据表**：
    * `sensor_data`：存储时间戳、设备ID及各类环境参数，支持高频写入。
    * `control_logs`：记录所有操作日志，包含操作者（或自动策略）、执行器名称、动作类型及执行结果，用于审计追踪。
    * `irrigation_policies`：存储自动化灌溉的配置参数（阈值、时长、冷却时间）。
    * `users` 与 `roles`：存储用户信息及 RBAC 角色权限数据。
* **（3）并发处理**：数据库需开启 WAL（Write-Ahead Logging）模式，以支持串口读取线程与 Web 服务线程的并发读写操作。

**表4-1 数据库核心表结构设计**

| 表名 | 关键字段 | 描述 |
| :--- | :--- | :--- |
| sensor_data | id, timestamp, temp, humi, soil, lux | 存储周期性的环境监测数据 |
| control_logs | id, user_id, actuator, action, result | 记录所有设备控制操作 |
| irrigation_policies | id, threshold_min, duration, cooldown | 存储自动灌溉策略参数 |
| users | id, username, password_hash, role_id | 用户账户信息表 |

**图4-2 系统数据库实体关系 (E-R) 图**
![系统数据库实体关系图](E-R图.png)

### 3、 历史数据可视化分析
* **（1）图表渲染**：前端集成 ECharts 库，需实现双轴折线图展示。支持将温度/湿度绘制在同一图表，光照/土壤湿度绘制在另一图表。
* **（2）数据叠加展示**：在环境数据曲线上，需以“标域（MarkArea）”的形式叠加显示灌溉事件（Pump ON/OFF）的时间区间，以便用户分析灌溉对土壤湿度的具体影响。
* **（3）数据导出**：支持按时间范围筛选数据，并将其导出为 CSV 格式文件供二次分析。

## （三） 设备控制与自动化功能

### 1、 手动远程控制
* **（1）指令下发**：用户通过 Web 界面点击按钮（如“开启水泵”），服务器需将控制请求转换为特定的 JSON 指令（如 `{"actuator": "pump", "action": "on"}`）。
* **（2）串口通信**：后台线程需通过 USB 虚拟串口将指令透传至 STM32，并监听执行反馈，将操作结果（成功/失败）实时反馈至前端界面。

### 2、 智能自动化灌溉策略
* **（1）后台守护线程**：边缘服务器需运行独立的 `irrigation_worker` 线程，持续监测土壤湿度数据。
* **（2）决策逻辑**：系统需根据数据库中的策略配置进行判断。当满足以下所有条件时自动触发灌溉：
    * 策略开关处于“启用”状态。
    * 当前土壤湿度低于设定的 `soil_threshold_min`（如 30%）。
    * 距离上一次灌溉结束的时间超过了 `cooldown_seconds`（冷却时间）。
* **（3）执行与记录**：满足条件后，系统自动发送开启水泵指令，持续运行 `watering_seconds`（如 10秒）后自动关闭，并将此次自动操作写入日志库。

## （四） AI视觉分析功能

### 1、 摄像头图像采集与存储
* **（1）硬件调用**：利用 `picamera2` 库调用树莓派 CSI 摄像头或 USB 摄像头。
* **（2）图像管理**：支持用户通过 Web 界面触发拍照请求，系统需以当前时间戳命名文件（如 `saffron_20260118.jpg`），并将图片保存在服务器的 `static/captures` 目录下，同时返回图片的访问 URL。

### 2、 基于OpenCV的生长周期与花色识别算法
* **（1）色彩空间转换**：系统需将采集的 RGB 图像转换为 HSV 色彩空间，以消除光照亮度对颜色识别的干扰。
* **（2）颜色阈值分割**：内置针对藏红花特征的颜色掩码范围，分别提取红色（花丝）、粉色（花瓣）和绿色（叶片/花萼）的像素区域。
* **（3）生长阶段判定**：计算各颜色区域的像素面积（Score），取最大值作为主色调，并映射生长周期：
    * 绿色主导：判定为“花蕾期 (Budding Stage)”。
    * 粉色主导：判定为“盛开期 (Flowering Stage)”。
    * 红色主导：判定为“成熟/凋谢期 (Mature/Withered Stage)”。
* **（4）结果可视化**：系统需在原图上标注识别结果文字，并将处理后的分析图与置信度分数返回给用户端展示。

# 五、 预期结果

本课题旨在构建一套软硬件深度融合的藏红花智能培育系统。通过边缘计算与物联网技术的应用，预期在实物构建、系统性能及应用效果三个维度达到以下指标：

## （一） 软硬件实物系统的构建指标

### 1、 硬件终端构建
完成一套基于 STM32F411 微控制器的底层硬件终端。终端需集成 DHT11 温湿度传感器、BH1750 光照传感器、电容式土壤湿度检测模块及 PAJ7620 手势识别模块，并能通过继电器驱动水泵和 LED 补光灯带。硬件需具备本地 OLED 屏幕，能够实时显示“T:25C H:60%”等格式的环境数据。

### 2、 边缘计算网关构建
完成基于 树莓派 4B 的边缘服务器搭建。服务器需运行定制化的 Linux 系统（Arch Linux/Raspberry Pi OS），并部署 Python Flask Web 服务环境与 OpenCV 视觉处理环境，作为系统的“大脑”连接底层硬件与用户端。

### 3、 软件系统功能实现
* **（1）数据库构建**：在边缘端建立 SQLite 数据库，包含至少 6 张核心业务表（users, roles, devices, sensor_data, control_logs, irrigation_policies），实现数据的完整持久化。
* **（2）三端互通**：实现“底层硬件采集传输 -> 边缘服务器处理存储 -> Web 端可视化展示/控制”的全链路数据互通，界面需支持响应式设计，适配 PC 与移动端访问。

## （二） 系统运行稳定性与响应速度预期

### 1、 数据采集实时性
系统对环境参数的采集频率预期达到 1Hz（即每秒一次）。底层 STM32 能够通过 JSON 格式经由 USB 虚拟串口向边缘服务器持续发送数据流，确保 Web 端显示的温湿度延迟不超过 2 秒。

### 2、 边缘控制的高可用性
系统采用“边缘侧决策”机制。即使在外部网络中断的情况下，运行在树莓派本地的自动灌溉线程（irrigation_worker）仍能独立工作。预期系统能根据预设的土壤阈值（如 <30%）在 5 秒内自动触发水泵动作，保障作物安全。

### 3、 传感器驱动的鲁棒性
预期实现传感器驱动的自动降级策略。当硬件级读取失败时，系统能自动切换至软件模拟驱动模式，确保系统不会因单一传感器故障而崩溃，并将错误率控制在可接受范围内。

### 4、 视觉分析响应速度
利用边缘算力，预期从用户发起“拍照分析”请求到返回生长阶段（如“花蕾期”）及置信度结果，全流程处理时间控制在 5 秒以内。

## （三） 智能培育效果与人工成本降低预期

### 1、 精准化环境控制
通过自动化策略与远程干预，预期将藏红花生长环境的土壤湿度波动范围控制在最佳区间的 ±5% 以内，有效避免人为浇水过多导致的球茎腐烂或过少导致的发育不良。

### 2、 降低人工巡检成本
通过远程监控与 AI 视觉生长周期识别（自动判断花蕾期、盛开期、凋谢期），预期可减少 80% 以上的人工现场巡检次数。种植户无需频繁进出大棚，仅需在关键节点（如采摘期）介入。

### 3、 提升交互便捷性与卫生性
通过引入非接触式手势控制（挥手切换页面、上下挥动开关设备），预期解决种植过程中因手部沾染泥土而不便触摸屏幕的痛点，提供更加卫生、便捷的现场操作体验。

# 六、 可行性分析

## （一） 技术可行性

本项目采用“感知层+边缘层+应用层”的分层架构，所选用的软硬件技术均为当前物联网与嵌入式领域成熟、开源且广泛应用的方案，技术风险可控。

### 1、 硬件设备的可获取性与成熟度
* **（1）核心控制器**：项目底层采用 WeAct STM32F411CEU6 ("黑药丸") 作为MCU。该芯片基于ARM Cortex-M4内核，具备高性能浮点运算能力，足以支撑DHT11、BH1750、PAJ7620等多个传感器的数据并发采集与外设驱动。
* **（2）边缘计算节点**：采用 树莓派 4B (Raspberry Pi 4B) 作为边缘服务器。其四核CPU与充足的内存资源能够流畅运行Linux操作系统、Python环境以及OpenCV视觉算法，且板载Wi-Fi模块便于构建局域网Web服务。
* **（3）传感器与执行器**：项目选用的传感器（如电容式土壤湿度计、BH1750光照传感器）和执行器（继电器、5V水泵、LED灯带）均为标准化模块，接口简单（I2C/GPIO/ADC），硬件集成难度较低。

### 2、 软件技术栈的适用性
* **（1）嵌入式开发**：采用 MicroPython (v1.26.1) 固件进行开发。相比传统的C语言，MicroPython大大降低了底层驱动的编写难度，且项目已验证了dht11.py、paj7620.py等驱动库的可用性。
* **（2）边缘服务端**：基于 Python Flask 框架构建Web服务，配合 SQLite 嵌入式数据库进行数据存储。SQLite无需独立的服务器进程，非常适合嵌入式边缘设备；Flask轻量级且扩展性强，能快速实现RESTful API接口。
* **（3）视觉算法**：利用 OpenCV 库进行图像处理（HSV颜色空间转换、阈值分割），该技术在农作物生长形态识别领域已有广泛应用案例，技术路径清晰。

### 3、 开发与运行环境
开发环境基于Arch Linux主机通过SSH远程连接树莓派进行开发，代码部署流程已通过Shell脚本（deploy_final.sh）自动化，运行环境依赖清晰（requirements.txt），具备良好的可维护性与移植性。

## （二） 经济可行性

### 1、 项目实施成本（支出）
本系统的硬件成本极低。核心器件STM32F411开发板、各类传感器（DHT11、BH1750等）及基础电子元件（电阻、杜邦线、面包板）的总采购成本可控制在300元人民币以内（不含树莓派）。软件开发均采用开源技术（Python, Linux, SQLite），无版权授权费用。相比于市面上昂贵的工业级农业监控设备，本方案具有极高的性价比。

**表6-1 核心硬件成本预算表**

| 设备名称 | 规格型号 | 数量 | 预估单价（元） |
| :--- | :--- | :--- | :--- |
| MCU开发板 | WeAct STM32F411CEU6 | 1 | 25 |
| 温湿度传感器 | DHT11 | 1 | 5 |
| 光照传感器 | BH1750 | 1 | 4 |
| 手势传感器 | PAJ7620U2 | 1 | 15 |
| 边缘服务器 | Raspberry Pi 4B (4G) | 1 | 350 |
| **合计** | -- | -- | **约 400元** |

### 2、 投资收益比例说明
藏红花作为高经济价值作物，单克售价昂贵。若因环境控制不当（如球茎腐烂、干旱萎缩）导致减产，经济损失将远超一套监控设备的成本。本系统通过精准的自动化灌溉与环境预警，能显著降低作物死亡率，提高成品花丝的品质。投入数百元的设备成本，即可保障数千元甚至更高的作物收益，投资回报率（ROI）极高。

## （三） 社会可行性

### 1、 满足社会与行业需求
随着农业劳动力的老龄化与减少，发展“智慧农业”与“精准农业”是国家政策鼓励的方向。本系统通过自动化技术替代人工繁琐的巡检与浇水工作，降低了藏红花种植的技术门槛和劳动强度，符合农业现代化发展的社会需求。

### 2、 操作安全性与法律合规
系统运行在5V/3.3V直流低电压环境下，对操作人员无触电风险，符合电子产品安全规范。同时，系统采用边缘计算架构，种植数据与监控图像均存储在本地树莓派中，未上传至公共云端，严格保护了种植户的数据隐私与商业机密，不存在法律风险。

# 七、 参考文献

[1] 赵春江. 智慧农业发展现状与未来展望[J]. 华南农业大学学报, 2021, 42(6): 1-7.
[2] 李道亮, 杨昊. 农业物联网技术研究进展与发展趋势分析[J]. 农业机械学报, 2018, 49(1): 1-20.
[3] 张晓红, 王建军. 藏红花设施栽培环境调控技术研究进展[J]. 中药材, 2019, 42(5): 1201-1205.
[4] 刘云浩. 物联网导论[M]. 北京: 科学出版社, 2017.
[5] 施巍松, 孙辉, 曹杰, 等. 边缘计算: 万物互联时代的新型计算模型[J]. 计算机研究与发展, 2017, 54(5): 907-924.
[6] 孙其博, 刘杰, 黎羴, 等. 物联网：概念、架构与关键技术研究综述[J]. 北京邮电大学学报, 2010, 33(3): 1-9.
[7] 陈伟, 李振. 基于STM32与MicroPython的嵌入式系统开发实践[J]. 电子技术应用, 2022, 48(2): 56-60.
[8] 王刚. 基于树莓派的温室环境监控系统设计与实现[D]. 成都: 电子科技大学, 2020.
[9] 刘伟. Python Web开发实战：基于Flask框架[M]. 北京: 电子工业出版社, 2018.
[10] 郭盛, 王飞. 基于OpenCV的植物生长状态图像识别技术研究[J]. 农业工程学报, 2021, 37(12): 158-166.
[11] 张三丰. 藏红花球茎休眠期与生长期温湿度控制阈值研究[J]. 安徽农业科学, 2020, 48(8): 45-48.
[12] 李明. SQLite嵌入式数据库系统在物联网网关中的应用[J]. 计算机系统应用, 2019, 28(4): 88-92.
[13] 陈建国. PAJ7620手势识别传感器在智能家居控制中的应用[J]. 传感器与微系统, 2021, 40(3): 112-115.
[14] 杨洁. 基于HSV颜色空间的农作物成熟度视觉检测算法[J]. 农机化研究, 2022, 44(6): 201-205.
[15] 王强. 现代设施农业中水肥一体化自动灌溉系统的设计[J]. 节水灌溉, 2019(10): 85-88.
[16] Satyanarayanan M. The Emergence of Edge Computing[J]. Computer, 2017, 50(1): 30-39.
[17] Shi W, Cao J, Zhang Q, et al. Edge Computing: Vision and Challenges[J]. IEEE Internet of Things Journal, 2016, 3(5): 637-646.
[18] Ray P P. Internet of Things for Smart Agriculture: Technologies, Practices and Future Direction[J]. Journal of Ambient Intelligence and Humanized Computing, 2017, 8(4): 395-420.
[19] Grinberg M. Flask Web Development: Developing Web Applications with Python[M]. O'Reilly Media, Inc., 2018.
[20] Bradski G, Kaehler A. Learning OpenCV 3: Computer Vision in C++ with the OpenCV Library[M]. O'Reilly Media, Inc., 2017.
[21] Upton E, Halfacree G. Raspberry Pi User Guide[M]. John Wiley & Sons, 2016.
[22] Vasistha P, Gangwar D. A Review on Crop Disease Detection Using Image Processing[C]//2019 9th International Conference on Cloud Computing, Data Science & Engineering (Confluence). IEEE, 2019: 536-540.
